{"ast":null,"code":"import { productService } from '../services/product.service.js';\nimport { store } from './store.js';\nimport { SET_COMMENTS, ADD_COMMENT, SET_IS_LOADING, SET_FILTER } from './product.reducer.js';\nexport async function loadProducts() {\n  let filterBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  store.dispatch({\n    type: SET_IS_LOADING,\n    isLoading: true\n  });\n  try {\n    const products = await productService.query(filterBy);\n    store.dispatch({\n      type: SET_COMMENTS,\n      products: products\n    });\n    return products;\n  } catch (err) {\n    console.log('Had issues loading products', err);\n    throw err;\n  } finally {\n    store.dispatch({\n      type: SET_IS_LOADING,\n      isLoading: false\n    });\n  }\n}\nexport async function saveProduct(product) {\n  try {\n    const savedProduct = await productService.save(product);\n    store.dispatch({\n      type: ADD_COMMENT,\n      product: savedProduct\n    });\n    return savedProduct;\n  } catch (err) {\n    console.error('Cannot save product:', err);\n    throw err;\n  }\n}\nexport function setFilter(filterBy) {\n  store.dispatch({\n    type: SET_FILTER,\n    filterBy\n  });\n}","map":{"version":3,"names":["productService","store","SET_COMMENTS","ADD_COMMENT","SET_IS_LOADING","SET_FILTER","loadProducts","filterBy","dispatch","type","isLoading","products","query","err","console","log","saveProduct","product","savedProduct","save","error","setFilter"],"sources":["C:/Users/user/Desktop/CycleUp/front/src/store/product.action.js"],"sourcesContent":["import { productService } from '../services/product.service.js'\r\nimport { store } from './store.js'\r\nimport { SET_COMMENTS, ADD_COMMENT, SET_IS_LOADING, SET_FILTER } from './product.reducer.js'\r\n\r\nexport async function loadProducts(filterBy = '') {\r\n    store.dispatch({ type: SET_IS_LOADING, isLoading: true })\r\n    try {\r\n        const products = await productService.query(filterBy)\r\n        store.dispatch({ type: SET_COMMENTS, products: products })\r\n        return products\r\n    } catch (err) {\r\n        console.log('Had issues loading products', err)\r\n        throw err\r\n    } finally {\r\n        store.dispatch({ type: SET_IS_LOADING, isLoading: false })\r\n    }\r\n}\r\n\r\nexport async function saveProduct(product) {\r\n    try {\r\n        const savedProduct = await productService.save(product)\r\n        store.dispatch({ type: ADD_COMMENT, product: savedProduct })\r\n        return savedProduct\r\n    } catch (err) {\r\n        console.error('Cannot save product:', err)\r\n        throw err\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n    store.dispatch({ type: SET_FILTER, filterBy })\r\n}\r\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,gCAAgC;AAC/D,SAASC,KAAK,QAAQ,YAAY;AAClC,SAASC,YAAY,EAAEC,WAAW,EAAEC,cAAc,EAAEC,UAAU,QAAQ,sBAAsB;AAE5F,OAAO,eAAeC,YAAY,GAAgB;EAAA,IAAfC,QAAQ,uEAAG,EAAE;EAC5CN,KAAK,CAACO,QAAQ,CAAC;IAAEC,IAAI,EAAEL,cAAc;IAAEM,SAAS,EAAE;EAAK,CAAC,CAAC;EACzD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMX,cAAc,CAACY,KAAK,CAACL,QAAQ,CAAC;IACrDN,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEP,YAAY;MAAES,QAAQ,EAAEA;IAAS,CAAC,CAAC;IAC1D,OAAOA,QAAQ;EACnB,CAAC,CAAC,OAAOE,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,GAAG,CAAC;IAC/C,MAAMA,GAAG;EACb,CAAC,SAAS;IACNZ,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEL,cAAc;MAAEM,SAAS,EAAE;IAAM,CAAC,CAAC;EAC9D;AACJ;AAEA,OAAO,eAAeM,WAAW,CAACC,OAAO,EAAE;EACvC,IAAI;IACA,MAAMC,YAAY,GAAG,MAAMlB,cAAc,CAACmB,IAAI,CAACF,OAAO,CAAC;IACvDhB,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEN,WAAW;MAAEc,OAAO,EAAEC;IAAa,CAAC,CAAC;IAC5D,OAAOA,YAAY;EACvB,CAAC,CAAC,OAAOL,GAAG,EAAE;IACVC,OAAO,CAACM,KAAK,CAAC,sBAAsB,EAAEP,GAAG,CAAC;IAC1C,MAAMA,GAAG;EACb;AACJ;AAEA,OAAO,SAASQ,SAAS,CAACd,QAAQ,EAAE;EAChCN,KAAK,CAACO,QAAQ,CAAC;IAAEC,IAAI,EAAEJ,UAAU;IAAEE;EAAS,CAAC,CAAC;AAClD"},"metadata":{},"sourceType":"module","externalDependencies":[]}