{"ast":null,"code":"import { commentService } from '../services/comment.service.js';\nimport { store } from './store.js';\nimport { SET_COMMENTS, ADD_COMMENT, SET_IS_LOADING, SET_FILTER } from './comment.reducer.js';\nexport async function loadComments() {\n  let filterBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  store.dispatch({\n    type: SET_IS_LOADING,\n    isLoading: true\n  });\n  try {\n    const comments = await commentService.query(filterBy);\n    store.dispatch({\n      type: SET_COMMENTS,\n      comments: comments\n    });\n    return comments;\n  } catch (err) {\n    console.log('Had issues loading comments', err);\n    throw err;\n  } finally {\n    store.dispatch({\n      type: SET_IS_LOADING,\n      isLoading: false\n    });\n  }\n}\nexport async function saveComment(comment) {\n  try {\n    const savedComment = await commentService.save(comment);\n    store.dispatch({\n      type: ADD_COMMENT,\n      comment: savedComment\n    });\n    return savedComment;\n  } catch (err) {\n    console.error('Cannot save comment:', err);\n    throw err;\n  }\n}\nexport function setFilter(filterBy) {\n  store.dispatch({\n    type: SET_FILTER,\n    filterBy\n  });\n}","map":{"version":3,"names":["commentService","store","SET_COMMENTS","ADD_COMMENT","SET_IS_LOADING","SET_FILTER","loadComments","filterBy","dispatch","type","isLoading","comments","query","err","console","log","saveComment","comment","savedComment","save","error","setFilter"],"sources":["C:/Users/user/Desktop/CycleUp/front/src/store/comment.action.js"],"sourcesContent":["import { commentService } from '../services/comment.service.js'\r\nimport { store } from './store.js'\r\nimport { SET_COMMENTS, ADD_COMMENT, SET_IS_LOADING, SET_FILTER } from './comment.reducer.js'\r\n\r\nexport async function loadComments(filterBy = '') {\r\n    store.dispatch({ type: SET_IS_LOADING, isLoading: true })\r\n    try {\r\n        const comments = await commentService.query(filterBy)\r\n        store.dispatch({ type: SET_COMMENTS, comments: comments })\r\n        return comments\r\n    } catch (err) {\r\n        console.log('Had issues loading comments', err)\r\n        throw err\r\n    } finally {\r\n        store.dispatch({ type: SET_IS_LOADING, isLoading: false })\r\n    }\r\n}\r\n\r\nexport async function saveComment(comment) {\r\n    try {\r\n        const savedComment = await commentService.save(comment)\r\n        store.dispatch({ type: ADD_COMMENT, comment: savedComment })\r\n        return savedComment\r\n    } catch (err) {\r\n        console.error('Cannot save comment:', err)\r\n        throw err\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n    store.dispatch({ type: SET_FILTER, filterBy })\r\n}\r\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,gCAAgC;AAC/D,SAASC,KAAK,QAAQ,YAAY;AAClC,SAASC,YAAY,EAAEC,WAAW,EAAEC,cAAc,EAAEC,UAAU,QAAQ,sBAAsB;AAE5F,OAAO,eAAeC,YAAY,GAAgB;EAAA,IAAfC,QAAQ,uEAAG,EAAE;EAC5CN,KAAK,CAACO,QAAQ,CAAC;IAAEC,IAAI,EAAEL,cAAc;IAAEM,SAAS,EAAE;EAAK,CAAC,CAAC;EACzD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMX,cAAc,CAACY,KAAK,CAACL,QAAQ,CAAC;IACrDN,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEP,YAAY;MAAES,QAAQ,EAAEA;IAAS,CAAC,CAAC;IAC1D,OAAOA,QAAQ;EACnB,CAAC,CAAC,OAAOE,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,GAAG,CAAC;IAC/C,MAAMA,GAAG;EACb,CAAC,SAAS;IACNZ,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEL,cAAc;MAAEM,SAAS,EAAE;IAAM,CAAC,CAAC;EAC9D;AACJ;AAEA,OAAO,eAAeM,WAAW,CAACC,OAAO,EAAE;EACvC,IAAI;IACA,MAAMC,YAAY,GAAG,MAAMlB,cAAc,CAACmB,IAAI,CAACF,OAAO,CAAC;IACvDhB,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEN,WAAW;MAAEc,OAAO,EAAEC;IAAa,CAAC,CAAC;IAC5D,OAAOA,YAAY;EACvB,CAAC,CAAC,OAAOL,GAAG,EAAE;IACVC,OAAO,CAACM,KAAK,CAAC,sBAAsB,EAAEP,GAAG,CAAC;IAC1C,MAAMA,GAAG;EACb;AACJ;AAEA,OAAO,SAASQ,SAAS,CAACd,QAAQ,EAAE;EAChCN,KAAK,CAACO,QAAQ,CAAC;IAAEC,IAAI,EAAEJ,UAAU;IAAEE;EAAS,CAAC,CAAC;AAClD"},"metadata":{},"sourceType":"module","externalDependencies":[]}